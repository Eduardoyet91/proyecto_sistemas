
{% extends 'base.html' %}
{% load static %}

{% block title %} Proyecto {% endblock title %}
{% block navbar %}

{% endblock navbar %}

{% block content %}

    <div class="  py-12 grid grid-cols-3 m-8 ">
      
      <div class=" h-auto m-4">
        <h1 class="text-center">Planificador</h1>
        <ul
        role="list"
        class="h-auto m-4 ml-2 mr-2 mb-4 shadow-2xl rounded-lg  mt-2  border-t border-gray-200 divide-y divide-gray-200 ">
     
        <li 
        
        class="  m-4 ">
        
          
              {% for l in p %}
                {% if l.tipo_id == 2 %}

                {% if l.tokens == 1 %}
                 <p class=" bg-green-300 m-2 dark:bg-slate-700 shadow-2xl rounded-lg px-6 my-4"
                    >{{l.nombre}}</p>
                    {% csrf_token %}
                    {% endif %}
                    {% if l.tokens != 1 %}
                    <p class=" bg-gray-500 m-2 dark:bg-slate-700 shadow-2xl rounded-lg px-6 my-4"
                       >{{l.nombre}}</p>
                       {% csrf_token %}
                       {% endif %}
                    {% csrf_token %}
                    {% endif %}
            {% endfor %}
                
          

             
              
          
        </li>
      </ul>
      
    </div>
    <div class=" h-auto  col-span-2 m-12 shadow-2xl rounded-lg">
      <H1 class="text-center">Status del Planificador</H1>

      {% for l in p %}
      {% if l.tipo_id == 2 %}

      {% if l.tokens == 1 %}


      {% if l.nombre == "Recepcion" %}
      <div class="py-2 bg-gray-500 grid grid-cols-1 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">

              <p class="text-center">Verificando la existencia del Modelo</p>
          {% csrf_token %}
          </div>
          <p class="text-center">Modelos</p>
              <div class="py-2 bg-gray-500  grid grid-cols-5 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">
                
               
                {% for m in modelos %}
               
                
                 <p class=" bg-green-300 m-2 dark:bg-slate-700 shadow-2xl rounded-lg px-6 my-4"
                    >{{m}}</p>
                    

                {% endfor %}
              </div>


      {% endif %}





      {% if l.nombre == "Orden Rechazada Insumos" %}
      <div class="py-2 bg-red-300 grid grid-cols-1 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">

           <p class="text-center">La orden ha sido rechazada por falta de Insumos</p>
               {% csrf_token %}
              </div>

              <p class="text-center">Status de los Insumos</p>
              <div class="py-2 px-2 bg-red-300  grid grid-cols-4 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">
                
               
                {% for l in p %}
                {% if l.tipo_id == 3 %}
                <div class="w-auto bg-green-300 text-center  dark:bg-slate-700 shadow-2xl rounded-lg my-2 mx-2">
                  <p class="  text-center "
                    >{{l.nombre}}</p>
                    <p class=" text-center"
                    >{{l.tokens}}</p>

                </div>
                 
                    {% csrf_token %}
                    {% endif %}
                   
                       

                {% endfor %}
              </div>

              <a class="w-auto flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600  hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" href="/solicitud">Nueva Solicitud </a>

      {% endif %}






      {% if l.nombre == "Orden rechazada Equipo" %}
              <div class="py-2 bg-red-300 grid grid-cols-1 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">
              <p class="text-center">La orden ha sido rechazada debido a que no hay unidades de produccion disponibles</p>
                    
             
                
              {% csrf_token %}
              </div>

              <p class="text-center">Status de las unidades de Producion</p>
              <div class="py-2 bg-red-300  grid grid-cols-5 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">
                
               
                {% for l in p %}
                {% if l.tipo_id == 4 %}
                {% if l.tokens == 0 %}
                 <p class=" bg-green-300 m-2 dark:bg-slate-700 shadow-2xl rounded-lg px-6 my-4"
                    >{{l.nombre}}</p>
                    {% csrf_token %}
                    {% endif %}
                    {% if l.tokens != 0 %}
                    <p class=" bg-red-400 m-2 dark:bg-slate-700 shadow-2xl rounded-lg px-6 my-4"
                       >{{l.nombre}}</p>
                       {% csrf_token %}
                       {% endif %}
                       {% csrf_token %}
                       {% endif %}

                {% endfor %}
              </div>

              <a class="w-auto flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600  hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" href="/solicitud">Nueva Solicitud </a>

          {% endif %}
               
          
           {% if l.nombre == "Orden Aceptada" %}
      <p class="text-center">Verificando Tiempo de Produccion</p>

      <div class="py-2 bg-gray-500  grid grid-cols-5 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">
        {% for l in l_p %}
        

        {% if l.tokens == 1 %}
         <p class=" bg-green-300 m-2 dark:bg-slate-700 shadow-2xl rounded-lg px-6 my-4"
            >{{l.nombre}}</p>
            {% csrf_token %}
            {% endif %}
            {% if l.tokens != 1 %}
            <p class=" bg-gray-500 m-2 dark:bg-slate-700 shadow-2xl rounded-lg px-6 my-4"
               >{{l.nombre}}</p>
               {% csrf_token %}
               {% endif %}
           
    {% endfor %}
       
      </div>

    <a class="w-auto flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600  hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" href="/solicitud">Nueva Solicitud </a>


          {% csrf_token %}
          {% endif %}


          {% if l.nombre == "Analisis Insumos" %}
       
          
            <p class="text-center">Verificando disponibilidad de insumos</p>
            <div class="py-2 bg-gray-500  grid grid-cols-5 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">
              {% for l in p %}
              {% if l.tipo_id == 3 %}
              <div class="w-auto bg-green-300 text-center  dark:bg-slate-700 shadow-2xl rounded-lg my-2 mx-2">
                <p class="  text-center "
                  >{{l.nombre}}</p>
                  <p class=" text-center"
                  >{{l.tokens}}</p>

              </div>
               
                  {% csrf_token %}
                  {% endif %}
                 
                     

              {% endfor %}
             
            </div>
          
          
              {% csrf_token %}
              {% endif %}
        {% if l.nombre == "Analisis Equipos" %}
        
          <p class="text-center">Verificando disponibilidad de Unidades de Producion</p>
          <div class="py-2 bg-gray-500  grid grid-cols-5 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">
            {% for l in l_p %}
            {% if l.tipo_id == 4 %}

            {% if l.tokens == 0 %}
             <p class=" bg-green-300 m-2 dark:bg-slate-700 shadow-2xl rounded-lg px-6 my-4"
                >{{l.nombre}}</p>
                {% csrf_token %}
                {% endif %}
                {% if l.tokens != 0 %}
                <p class=" bg-red-300 m-2 dark:bg-slate-700 shadow-2xl rounded-lg px-6 my-4"
                   >{{l.nombre}}</p>
                   {% csrf_token %}
                   {% endif %}
                {% csrf_token %}
                {% endif %}
        {% endfor %}
           
          </div>
        
                  {% csrf_token %}
                  {% endif %}

                  {% if l.nombre == "Insumo Agotado" %}

                  <div class="py-2 bg-gray-500 grid grid-cols-1 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">

                    <p class="text-center">Insumos Agotados</p>
                {% csrf_token %}
                </div>

                <div class="py-2 bg-gray-500  grid grid-cols-5 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">
                  {% for l in p %}
                  {% if l.tipo_id == 3 %}
                  <div class="w-auto bg-green-300 text-center  dark:bg-slate-700 shadow-2xl rounded-lg my-2 mx-2">
                    <p class="  text-center "
                      >{{l.nombre}}</p>
                      <p class=" text-center"
                      >{{l.tokens}}</p>
  
                  </div>
                   
                      {% csrf_token %}
                      {% endif %}
                     
                         
  
                  {% endfor %}
                </div>

                  {% csrf_token %}
                  {% endif %}

                  {% if l.nombre == "Equipo Disponible" %}


                  <div class="py-2 bg-green-300 grid grid-cols-1 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">

                    <p class="text-center">Disponibilidad total de las unidades de produccion</p>
                {% csrf_token %}
                </div>

           


                  {% csrf_token %}
                  {% endif %}

                  {% if l.nombre == "Equipo No disponible" %}

                  <div class="py-2 bg-gray-500 grid grid-cols-1 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">

                    <p class="text-center">Existen unidades de producion ocupadas</p>
                {% csrf_token %}
                </div>

                <div class="py-2 bg-gray-500  grid grid-cols-5 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">
                  {% for l in l_p %}
                  {% if l.tipo_id == 4 %}
      
                  {% if l.tokens != 0 %}
                   <p class=" bg-red-300 m-2 dark:bg-slate-700 shadow-2xl rounded-lg px-6 my-4"
                      >{{l.nombre}}</p>
                      {% csrf_token %}
                      {% endif %}
                     
                      {% csrf_token %}
                      {% endif %}
              {% endfor %}
                 
                </div>

                  {% csrf_token %}
                  {% endif %}

                  {% if l.nombre == "Insumo Disponible" %}

                  <div class="py-2 bg-green-300 grid grid-cols-1 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">

                    <p class="text-center">Disponibilidad total de insumos</p>
                {% csrf_token %}
                </div>

           

                  {% csrf_token %}
                  {% endif %}

                  {% if l.nombre == "Rechazo Modelo" %}

                  <div class="py-2 bg-gray-500 grid grid-cols-1 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">

                    <p class="text-center">No existe un modelo disponible por lo cual la orde es rechazada</p>
                {% csrf_token %}
                </div>

                <p class="text-center">Modelos</p>
                <div class="py-2 bg-gray-500  grid grid-cols-5 justify-content shadow-2xl rounded-lg  border-t border-gray-200 divide-y divide-gray-200  m-4">
                  
                 
                  {% for m in modelos %}
                 
                  
                   <p class=" bg-gray-500 m-2 dark:bg-slate-700 shadow-2xl rounded-lg px-6 my-4"
                      >{{m}}</p>
                      
  
                  {% endfor %}
                </div>

                <a class="w-auto flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600  hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" href="/solicitud">Nueva Solicitud </a>


                  {% csrf_token %}
                  {% endif %}






          {% csrf_token %}
          {% endif %}
          {% csrf_token %}
          {% endif %}
  {% endfor %}
      
      



    </div>
    </div>
 
  {% endblock content %}


  {% block footer %}
  
  {% endblock footer %}
  
  
  {% block javascript %}
  
  {% endblock javascript %}